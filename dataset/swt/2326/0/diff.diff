--- /Users/yumeng/PycharmProjects/c3/dataset/swt/2326/0/before.java
+++ /Users/yumeng/PycharmProjects/c3/dataset/swt/2326/0/after.java
@@ -15,1 +15,3 @@
-    if (gdkColor == null) {
+    if (OS.GTK_VERSION >= OS.VERSION(3, 0, 0)) {
+      set = !getForeground().equals(color);
+    } else if (gdkColor == null) {

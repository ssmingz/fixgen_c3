--- /Users/yumeng/PycharmProjects/c3/dataset/swt/3007/1/before.java
+++ /Users/yumeng/PycharmProjects/c3/dataset/swt/3007/1/after.java
@@ -10,0 +10,6 @@
+    if (savedAnchor != 0) {
+      int savedIndex = getIndex(savedAnchor);
+      if (index < savedIndex) {
+        savedAnchor = getId(Math.max(0, savedIndex - 1));
+      }
+    }

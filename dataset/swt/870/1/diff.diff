--- /Users/yumeng/PycharmProjects/c3/dataset/swt/870/1/before.java
+++ /Users/yumeng/PycharmProjects/c3/dataset/swt/870/1/after.java
@@ -13,1 +13,1 @@
-      if ((style & SWT.EMBEDDED) != 0) {
+      if (((state & CANVAS) != 0) && ((style & SWT.EMBEDDED) != 0)) {

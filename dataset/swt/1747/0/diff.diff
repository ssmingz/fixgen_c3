--- /Users/yumeng/PycharmProjects/c3/dataset/swt/1747/0/before.java
+++ /Users/yumeng/PycharmProjects/c3/dataset/swt/1747/0/after.java
@@ -48,0 +48,3 @@
+    if (segments != null) {
+      caret = untranslateOffset(caret);
+    }

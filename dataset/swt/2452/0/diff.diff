--- /Users/yumeng/PycharmProjects/c3/dataset/swt/2452/0/before.java
+++ /Users/yumeng/PycharmProjects/c3/dataset/swt/2452/0/after.java
@@ -24,0 +24,6 @@
+    int nHeight = height;
+    if (image != null) {
+      Rectangle rect = image.getBounds();
+      nWidth = rect.width;
+      nHeight = rect.height;
+    }
@@ -27,1 +33,1 @@
-    OS.XFillRectangle(xDisplay, window, gc, x, y, nWidth, height);
+    OS.XFillRectangle(xDisplay, window, gc, x, y, nWidth, nHeight);

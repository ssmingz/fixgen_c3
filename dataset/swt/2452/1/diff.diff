--- /Users/yumeng/PycharmProjects/c3/dataset/swt/2452/1/before.java
+++ /Users/yumeng/PycharmProjects/c3/dataset/swt/2452/1/after.java
@@ -27,0 +27,6 @@
+    int nHeight = height;
+    if (image != null) {
+      Rectangle rect = image.getBounds();
+      nWidth = rect.width;
+      nHeight = rect.height;
+    }
@@ -30,1 +36,1 @@
-    OS.PgDrawIRect(x, y, (x + nWidth) - 1, (y + height) - 1, Pg_DRAW_FILL);
+    OS.PgDrawIRect(x, y, (x + nWidth) - 1, (y + nHeight) - 1, Pg_DRAW_FILL);

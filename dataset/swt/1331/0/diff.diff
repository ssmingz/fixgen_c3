--- /Users/yumeng/PycharmProjects/c3/dataset/swt/1331/0/before.java
+++ /Users/yumeng/PycharmProjects/c3/dataset/swt/1331/0/after.java
@@ -10,1 +10,1 @@
-          if (index != (-1)) {
+          if ((index != (-1)) && (imageHandle != 0)) {
@@ -12,3 +12,1 @@
-            imageHandle = OS.gtk_image_new_from_pixbuf(pixbuf);
-            OS.gtk_widget_show(imageHandle);
-            OS.gtk_tool_button_set_icon_widget(handle, imageHandle);
+            OS.gtk_image_set_from_pixbuf(imageHandle, pixbuf);

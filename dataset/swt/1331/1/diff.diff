--- /Users/yumeng/PycharmProjects/c3/dataset/swt/1331/1/before.java
+++ /Users/yumeng/PycharmProjects/c3/dataset/swt/1331/1/after.java
@@ -9,1 +9,1 @@
-        if (index != (-1)) {
+        if ((index != (-1)) && (imageHandle != 0)) {
@@ -11,3 +11,1 @@
-          imageHandle = OS.gtk_image_new_from_pixbuf(pixbuf);
-          OS.gtk_widget_show(imageHandle);
-          OS.gtk_tool_button_set_icon_widget(handle, imageHandle);
+          OS.gtk_image_set_from_pixbuf(imageHandle, pixbuf);

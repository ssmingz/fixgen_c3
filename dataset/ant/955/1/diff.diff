--- /Users/yumeng/PycharmProjects/c3/dataset/ant/955/1/before.java
+++ /Users/yumeng/PycharmProjects/c3/dataset/ant/955/1/after.java
@@ -3,8 +3,1 @@
-    if ((JavaEnvUtils.isKaffe() && (choice == null)) || IMPLEMENTATION_NAME.equals(choice)) {
-      return new Kaffeh();
-    } else if (IMPLEMENTATION_NAME.equals(choice)) {
-      return new SunJavah();
-    } else if (choice != null) {
-      return resolveClassName(choice);
-    }
-    return new SunJavah();
+    return getAdapter(choice, log, null);

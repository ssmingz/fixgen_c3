--- D:\expdata\c3\SysEdit\8/r/before.java
+++ D:\expdata\c3\SysEdit\8/r/after.java
@@ -3,1 +3,2 @@
-    if (fContainer == null) {
+    IServiceLocator serviceLocator = fContainer.getServiceLocator();
+    if (serviceLocator == null && !fContainerProvided) {
@@ -7,1 +8,1 @@
-    return fContainer.getServiceLocator();
+    return serviceLocator;
